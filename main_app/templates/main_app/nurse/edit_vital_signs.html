{% extends "base_Nurse.html" %}
{% load form_tags %}

{% block title %}ویرایش علائم حیاتی{% endblock %}

{% block content %}
<div class="min-h-[70vh] flex items-center justify-center">
  <div class="card w-full max-w-2xl p-6">
    <h1 class="card-title">ویرایش علائم حیاتی{% if patient %} - {{ patient.first_name }} {{ patient.last_name }}{% endif %}</h1>

    {% if form.non_field_errors %}
      <div class="rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-red-700 mb-4">
        {% for err in form.non_field_errors %}<div>{{ err }}</div>{% endfor %}
      </div>
    {% endif %}

    <form method="post" class="space-y-4">
      {% csrf_token %}

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="md:col-span-2">
          <label for="{{ form.date.id_for_label }}" class="form-label">تاریخ</label>
          {{ form.date|add_class:'form-input datepicker' }}
          {% if form.date.errors %}<p class="error-text">{{ form.date.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label for="{{ form.blood_pressure_systolic.id_for_label }}" class="form-label">فشار خون سیستولیک</label>
          {{ form.blood_pressure_systolic|add_class:'form-input' }}
          {% if form.blood_pressure_systolic.errors %}<p class="error-text">{{ form.blood_pressure_systolic.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label for="{{ form.blood_pressure_diastolic.id_for_label }}" class="form-label">فشار خون دیاستولیک</label>
          {{ form.blood_pressure_diastolic|add_class:'form-input' }}
          {% if form.blood_pressure_diastolic.errors %}<p class="error-text">{{ form.blood_pressure_diastolic.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label for="{{ form.heart_rate.id_for_label }}" class="form-label">ضربان قلب</label>
          {{ form.heart_rate|add_class:'form-input' }}
          {% if form.heart_rate.errors %}<p class="error-text">{{ form.heart_rate.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label for="{{ form.blood_sugar.id_for_label }}" class="form-label">قند خون</label>
          {{ form.blood_sugar|add_class:'form-input' }}
          {% if form.blood_sugar.errors %}<p class="error-text">{{ form.blood_sugar.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label for="{{ form.body_temperature.id_for_label }}" class="form-label">دمای بدن</label>
          {{ form.body_temperature|add_class:'form-input' }}
          {% if form.body_temperature.errors %}<p class="error-text">{{ form.body_temperature.errors.0 }}</p>{% endif %}
        </div>
      </div>

      <div class="flex items-center gap-3">
        <button type="submit" class="btn-primary">ذخیره</button>
        {% if patient %}<a href="{% url 'patient_detail_nr' patient.id %}" class="link">بازگشت</a>{% endif %}
      </div>
    </form>
  </div>
</div>
{% endblock %}
